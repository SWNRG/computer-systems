# Εργαστήριο 3 - Απόλυτες και σχετικές διαδρομές καταλόγων στο Linux

## Περιεχόμενα μαθήματος

- [Απόλυτες και σχετικές διαδρομές καταλόγων](#απόλυτες-και-σχετικές-διαδρομές-καταλόγων)

## Απόλυτες και σχετικές διαδρομές καταλόγων
[![asciicast](https://asciinema.org/a/tLXhzq4JpU8lo5EbPHswiDv8v.svg)](https://asciinema.org/a/tLXhzq4JpU8lo5EbPHswiDv8v)

Σε αυτό το μάθημα, θα συζητήσομε για τις σχετικές και τις απόλυτες διαδρομές των καταλόγων του Linux.

Απόλυτη ονομάζεται μια διαδρομή καταλόγων που ξεκινάει από την ρίζα (root directory).

Η εντολή `pwd` εμφανίζει την απόλυτη διαδρομή του σημείου που βρισκόμαστε.

```console
stud@vm2:~$ pwd
/home/stud
```

Δηλαδή, βρισκόμαστε στον κατάλογο `stud`, o οποίος βρίσκεται μέσα στον κατάλογο `home` ο οποίος με τη σειρά του είναι στην ρίζα των καταλόγων. Η τελευταία συμβολίζεται με τον χαρακτήρα `/`.

Υπενθυμίζουμε άλλους 3 συμβολισμούς καταλόγων:
1) Ο χαρακτήρας `.` αντιπροσωπεύει τον τρέχοντα κατάλογο, δηλαδή η εντολή `cd .` δεν αλλάζει το σημείο που βρισκόμαστε.

```console
stud@vm2:~$ cd .
stud@vm2:~$ # ζητήσαμε να αλλάξουμε κατάλογο και να πάμε εκεί που είμαστε.
```

Ο κατάλογος που βρισκόμαστε ονομάζεται αλλιώς current working directory (cwd) και είναι ο τελευταίος κατάλογος της απόλυτης διαδρομής - στην περίπτωση μας ο `stud`.

Με την είσοδο μας στο σύστημα, το cwd είναι ο προσωπικός μας κατάλογος. Δηλαδή, έχει συνήθως σαν όνομα το όνομα του χρήστη που συνδεθήκαμε.


2) Οι χαρακτήρες `..` συμβολίζουν τον πατρικό κατάλογο του καταλόγου που βρισκόμαστε ή αναφερόμαστε. Δηλαδή, αν δώσουμε `cd ..`.

```console
stud@vm2:~$ cd ..
stud@vm2:/home$ # μετακινούμαστε στον κατάλογο /home (μια θέση πάνω στο δέντρο των καταλόγων).
```

3) Ο χαρακτήρας `~` συμβολίζει τον προσωπικό μας κατάλογο, όπου στην περίπτωση μας είναι ο `/home/stud`. Δηλαδή, οι παρακάτω εντολές είναι ισοδύναμες:

```console
stud@vm2:/home$ cd ~
stud@vm2:~$ pwd
/home/stud
stud@vm2:~$ cd /home/stud
stud@vm2:~$ pwd
/home/stud
```

Μπορούμε επίσης να επιστρέψουμε στον προσωπικό μας κατάλογο δίνοντας `cd` χωρίς κάποιο παραπάνω όρισμα.

```console
stud@vm2:~$ cd
stud@vm2:~$ pwd
/home/stud
```

Ας μετακινηθούμε τώρα στον κατάλογο `myfiles` με τη βοήθεια της εντολής `cd`.

```console
stud@vm2:~$ cd myfiles
stud@vm2:~/myfiles$ pwd
/home/stud/myfiles
```

Παρατηρούμε ότι η απόλυτη διαδρομή του cwd άλλαξε και προστέθηκε ο κατάλογος `myfiles`. Ας δούμε τα περιεχόμενα του `myfiles` με την βοήθεια της `ls`:

```console
stud@vm2:~/myfiles$ ls -l
total 8
drwxrwxr-x 7 stud stud 4096 Oct 16 22:08 personal
drwxrwxr-x 7 stud stud 4096 Oct 17 14:43 studies
```

Ας πάμε στον κατάλογο `studies`:

```console
stud@vm2:~/myfiles$ cd studies
stud@vm2:~/myfiles/studies$ pwd
/home/stud/myfiles/studies
stud@vm2:~/myfiles/studies$ ls -l
total 20
drwxrwxr-x 4 stud stud 4096 Oct  7 15:43 labs
drwxrwxr-x 4 stud stud 4096 Oct  7 15:44 lectures
drwxrwxr-x 2 stud stud 4096 Oct 11 09:22 manuals
drwxrwxr-x 2 stud stud 4096 Oct 17 14:43 music
drwxrwxr-x 2 stud stud 4096 Oct 17 14:42 programs
```

Αν δώσουμε την εντολή `tree`, μπορούμε να δούμε τη δομή των καταλόγων, από τον κατάλογο `studies` και βαθύτερα στο δέντρο.

```console
stud@vm2:~/myfiles/studies$ tree
.
├── labs
│   ├── lab1
│   │   └── lab_report.txt
│   └── lab2
│       └── lab_report.txt
├── lectures
│   ├── lecture1
│   │   └── lecture_notes.txt
│   └── lecture2
│       ├── assignments
│       │   ├── assignment1.txt
│       │   └── assignment2.txt
│       └── lecture_notes.txt
├── manuals
│   ├── man-cat.txt
│   └── man-ls.txt
└── misc
    ├── program1.c
    ├── program2.c
    ├── song1.mp3
    └── song2.mp3

9 directories, 12 files
```

Ας θεωρήσουμε ότι θέλουμε να εμφανίσουμε το αρχείο `lecture_notes.txt` του καταλόγου `lecture2`.

Θα μπορούσαμε να δώσουμε `cd lectures`, `cd lecture2` και `cat lecture_notes.txt`.

Μπορούμε όμως να εμφανίσουμε το αρχείο με μια μόνο εντολή;
 
Οποτεδήποτε αναφερόμαστε σε ένα αρχείο στο linux, μπορούμε να δώσουμε μια διαδρομή πριν το όνομα του, με αποτέλεσμα να το προσπελάσουμε χωρίς να μετακινηθούμε στο σημείο που βρίσκεται.

Για παράδειγμα, μπορούμε να προσθέσουμε στην εντολή `cat` την απόλυτη διαδρομή του αρχείου `lecture_notes.txt`.

```console
stud@vm2:~/myfiles/studies$ cat /home/stud/myfiles/studies/lectures/lecture2/lecture_notes.txt 
No need to take notes.
```

Η διαδρομή αυτή όμως είναι αρκετά μεγάλη.

Ένας εναλλακτικός τρόπος είναι να χρησιμοποιήσουμε ένα άλλο είδος διαδρομής που ονομάζεται σχετική διαδρομή. Η σχετική διαδρομή εκφράζει ένα σημείο της δομής καταλόγων σε σχέση με το σημείο που βρισκόμαστε.

Δηλαδή, μπορούμε να δώσουμε απλώς:

```console
stud@vm2:~/myfiles/studies$ cat lectures/lecture2/lecture_notes.txt 
No need to take notes.
```

Στην ουσία, είναι σαν να αφαιρούμε από την απόλυτη διαδρομή του αρχείου `lecture_notes.txt` την απόλυτη διαδρομή του σημείου που βρισκόμαστε.

Αυτό βέβαια δεν ισχύει πάντα, γιατί μπορεί να χρειαστεί να αναφερθούμε σε διαδρομή που βρίσκεται πάνω από το σημείο που βρισκόμαστε. Εκεί αξιοποιούμε τους χαρακτήρες `..`.

Για παράδειγμα:

```console
stud@vm2:~/myfiles/studies$ cat ../personal/photos/misc/crocodile.txt 
                _ ___                /^^\ /^\  /^^\_
    _          _@)@) \            ,,/ '` ~ `'~~ ', `\.
  _/o\_ _ _ _/~`.`...'~\        ./~~..,'`','',.,' '  ~:
 / `,'.~,~.~  .   , . , ~|,   ,/ .,' , ,. .. ,,.   `,  ~\_
( ' _' _ '_` _  '  .    , `\_/ .' ..' '  `  `   `..  `,   \_
 ~V~ V~ V~ V~ ~\ `   ' .  '    , ' .,.,''`.,.''`.,.``. ',   \_
  _/\ /\ /\ /\_/, . ' ,   `_/~\_ .' .,. ,, , _/~\_ `. `. '.,  \_
 < ~ ~ '~`'~'`, .,  .   `_: ::: \_ '      `_/ ::: \_ `.,' . ',  \_
  \ ' `_  '`_    _    ',/ _::_::_ \ _    _/ _::_::_ \   `.,'.,`., \-,-,-,_,_,
   `'~~ `'~~ `'~~ `'~~  \(_)(_)(_)/  `~~' \(_)(_)(_)/ ~'`\_.._,._,'_;_;_;_;_;
```

Παρατηρούμε ότι οι σχετικές διαδρομές δεν ξεκινάνε από τον χαρακτήρα `/`. Μια εξαίρεση είναι η διαδρομή `~`, η οποία είναι απόλυτη διαδρομή γιατί ακριβώς αντιπροσωπεύει τον κατάλογο `/home/username` (όπου `username` το όνομα του χρήστη), δηλαδή αντιπροσωπεύει διαδρομή που ξεκινάει από τον κατάλογο `/`.
